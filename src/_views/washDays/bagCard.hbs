{{> bags/bagStatusesChart}}
<div class="bg-gray-100 flex flex-col">
    <div class="
        bg-white
        rounded
        shadow
        py-1
        pb-2
        border
        border-gray-200
    ">
        <div class="
                py-2
                px-4
            ">
            {{> bags/moveBagPrompt this}}
        </div>
    </div>

    <div class="flex flex-row justify-around p-2 items-center px-12 bg-white">
        <div class="
                rounded
                bg-white
                shadow
                border
                border-2
                px-2
                py-1
                border-{{lastEventType.color}}
            ">
            <p class="
                            text-base
                            font-semibold
                            tracking-tight
                            bg-white
                            rounded
                        ">
                Bag ID: {{bagId}}
            </p>
            {{> lastEvent lastEventType}}
        </div>

        <div class="
                rounded
                bg-white
                px-2
                py-1
                border-{{lastEventType.color}}
            ">
            <p class="text-2xl font-medium">
                ->
            </p>
        </div>

        <div class="
                rounded
                bg-white
                shadow
                border
                border-2
                border-dotted
                px-2
                py-1
                border-{{nextEventType.color}}
            ">
            <p class="
                        text-base
                        font-semibold
                        tracking-tight
                        bg-white
                        rounded
                    ">
                Bag ID: {{bagId}}
            </p>
            {{>lastEvent nextEventType}}
        </div>
    </div>

    <div class="
            bg-white
            px-8
            py-4
        ">
        {{> bags/hiddenForm moveFormFields }}
    </div>
</div>

<div class="
        bg-white
        rounded
        shadow
        pt-1
        pb-2
        border
        border-gray-200
    ">
    <div class="
            py-2
            px-4
        ">
        {{> bags/splitBagPrompt this}}
    </div>

    <div class="flex flex-row justify-around p-2 items-center px-12">

        <div class="
                rounded
                bg-white
                shadow
                border
                border-2
                px-2
                py-1
                border-{{lastEventType.color}}
            ">
            <p class="
                            text-base
                            font-semibold
                            tracking-tight
                            bg-white
                            rounded
                        ">
                Bag ID: {{bagId}}
            </p>
            {{> lastEvent lastEventType}}
        </div>

        <div class="
                rounded
                bg-white
                px-2
                py-1
                border-{{lastEventType.color}}
            ">
            <p class="text-2xl font-medium">
                <>
            </p>
        </div>

        <div class="
                rounded
                bg-white
                shadow
                border
                border-2
                border-dotted
                px-2
                py-1
                border-{{lastEventType.color}}
            ">
            <p class="
                        text-base
                        font-semibold
                        tracking-tight
                        bg-white
                        rounded
                    ">
                Bag ID: {{nextAvailSplitBagId}}
            </p>
            {{> lastEvent lastEventType}}
        </div>
    </div>

    <div class="
            px-8
            py-4
        ">
        {{> bags/hiddenForm splitFormFields }}
    </div>
</div>

{{#if splitFromBagId}}
    <div class="
            bg-white
            rounded
            shadow
            pt-1
            pb-2
            border
            border-gray-200
        ">
        <div class="
            py-2
            px-4
        ">
            {{> bags/mergeBagPrompt this}}
        </div>

        <div class="flex flex-row justify-around p-2 items-center px-12">

            <div class="
                rounded
                bg-white
                shadow
                border
                border-2
                border-dotted
                px-2
                py-1
                border-{{splitFromBagLastEventType.color}}
            ">
                <p class="
                            text-base
                            font-semibold
                            tracking-tight
                            bg-white
                            rounded
                        ">
                    Bag ID: {{splitFromBagId}}
                </p>
                {{> lastEvent splitFromBagLastEventType}}
            </div>

            <div class="
                rounded
                bg-white
                px-2
                py-1
                border-{{lastEventType.color}}
            ">
                <p class="text-2xl font-medium">
                    <-
                </p>
            </div>

            <div class="
                rounded
                bg-white
                shadow
                border
                border-2
                px-2
                py-1
                border-{{lastEventType.color}}
            ">
                <p class="
                        text-base
                        font-semibold
                        tracking-tight
                        bg-white
                        rounded
                    ">
                    Bag ID: {{bagId}}
                </p>
                {{> lastEvent lastEventType}}
            </div>
        </div>

        <div class="
                px-8
                py-4
            ">
            {{> bags/hiddenForm mergeFormFields }}
        </div>
    </div>
{{/if}}


<div class="
            bg-white
            flex
            flex-row
            gap-1
            justify-around
            rounded
            border
            shadow
            border-gray-200
            px-2
            py-6
        ">
    <a href="/washdays/{{createdAt}}/person/{{personName}}"
       class="
            px-2
            font-extrabold
            border
            border-4
            focus:ring-2
            rounded
            bg-green-600
            border-green-600
            text-white
            hover:bg-white
            hover:text-green-600
            ">
        Return to Person
    </a>

    <a href="/washdays/{{createdAt}}/personOriented"
       class="
            px-2
            font-extrabold
            border
            border-4
            focus:ring-2
            rounded
            bg-blue-600
            text-white
            border-blue-600
            hover:bg-white
            hover:text-blue-600
            ">
        Return to People
    </a>

    <a href="/washdays/{{createdAt}}/bagOriented"
       class="
            px-2
            font-extrabold
            border
            border-4
            focus:ring-2
            rounded
            bg-red-600
            text-white
            border-red-600
            hover:bg-white
            hover:text-red-600
            ">
        Return to Bags
    </a>
</div>

</div>
